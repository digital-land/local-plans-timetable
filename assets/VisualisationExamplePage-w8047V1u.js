import{r as t,D as o,a as P,l as c,c as r,i as m,j as e,b as g,N as f}from"../form.js";const w=p=>{const{timetableEventsFilepath:a,developmentPlanFilepath:l}=p,[n,d]=t.useState(o),[v,u]=t.useState(P(n.reference)),s=t.useCallback(async()=>{const b=await c(a),h=r(b),E=await c(l),i=r(E).find(m);if(!i)throw new Error("No valid development plan found");const x={...o,...i};d(x),u(h.filter(m))},[l,a]);return t.useEffect(()=>{s()},[s]),e.jsx("div",{"data-testid":"visualisation",children:e.jsx(g,{developmentPlan:n,timetableEvents:v})})},T=()=>e.jsxs(f,{pageTitle:"What a Local Plan timetable created online looks like",children:[e.jsxs("p",{className:"govuk-body",children:["This is an ",e.jsx("strong",{children:"example"})," of what a timetable created using the online form will look like on a webpage."]}),e.jsx(w,{developmentPlanFilepath:"https://raw.githubusercontent.com/digital-land/local-plans-timetable/main/assets/example-development-plan.csv",timetableEventsFilepath:"https://raw.githubusercontent.com/digital-land/local-plans-timetable/main/assets/example-timetable.csv"})]});export{T as VisualisationExamplePage};
