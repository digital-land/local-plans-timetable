import{r as t,D as i,g as x,l as o,c,j as e,a as P,N as D}from"../form.js";const j=r=>{const{timetableEventsFilepath:a,developmentPlanFilepath:s}=r,[l,m]=t.useState(i),[p,d]=t.useState(x(l.reference)),n=t.useCallback(async()=>{const v=await o(a),u=c(v),b=await o(s),h=c(b),g={...i,...h.slice(-1)[0]};m(g),d(u.filter(E=>!E.endDate))},[s,a]);return t.useEffect(()=>{n()},[n]),e.jsx("div",{"data-testid":"visualisation",children:e.jsx(P,{developmentPlan:l,timetableEvents:p})})},w=()=>e.jsxs(D,{pageTitle:"What a Local Plan timetable created online looks like",children:[e.jsxs("p",{className:"govuk-body",children:["This is an"," ",e.jsx("strong",{children:"example"})," of what a timetable created using the online form will look like on a webpage."]}),e.jsx(j,{developmentPlanFilepath:"https://raw.githubusercontent.com/digital-land/local-plans-timetable/main/assets/development-plan.csv",timetableEventsFilepath:"https://raw.githubusercontent.com/digital-land/local-plans-timetable/main/assets/timetable.csv"})]});export{w as VisualisationExamplePage};
