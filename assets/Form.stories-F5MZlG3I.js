import{j as e,d as j,P as k,D as E}from"./PlanViewer-09JpZP7u.js";import{r as p}from"./index-4g5l5LRQ.js";import"./v4-yQnnJER4.js";import"./_commonjsHelpers-4gQjN7DL.js";const c=({children:a,type:o="button"})=>e.jsx("button",{type:o,className:"govuk-button",children:a});try{c.displayName="Button",c.__docgenInfo={description:"",displayName:"Button",props:{type:{defaultValue:{value:"button"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"button"'},{value:'"submit"'},{value:'"reset"'}]}}}}}catch{}const v=({label:a,onChange:o,value:t})=>e.jsx("div",{className:"govuk-form-group",children:e.jsxs("label",{className:"govuk-label",children:[a,e.jsx("input",{className:"govuk-input",type:"text",value:t,onChange:n=>o(n.target.value)})]})});try{v.displayName="TextInput",v.__docgenInfo={description:"",displayName:"TextInput",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: string) => void"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}}}}}catch{}const g=({value:a,label:o,name:t,onChange:n})=>{const[i="",s=""]=a.split("-");return e.jsx("div",{className:"govuk-form-group",children:e.jsxs("fieldset",{className:"govuk-fieldset",role:"group","aria-describedby":`${t}-hint`,children:[e.jsx("legend",{className:"govuk-fieldset__legend",children:o}),e.jsx("div",{id:`${t}-hint`,className:"govuk-hint",children:"For example, 3 2007"}),e.jsxs("div",{className:"govuk-date-input",children:[e.jsx("div",{className:"govuk-date-input__item",children:e.jsxs("div",{className:"govuk-form-group",children:[e.jsx("label",{className:"govuk-label govuk-date-input__label",htmlFor:`${t}-month`,children:"Month"}),e.jsx("input",{id:`${t}-month`,"data-testid":`${t}-month`,className:"govuk-input govuk-date-input__input govuk-input--width-2",type:"text",inputMode:"numeric",value:i,onChange:r=>n(`${r.target.value}-${s}`),maxLength:2})]})}),e.jsx("div",{className:"govuk-date-input__item",children:e.jsxs("div",{className:"govuk-form-group",children:[e.jsx("label",{className:"govuk-label govuk-date-input__label",htmlFor:`${t}-year`,children:"Year"}),e.jsx("input",{id:`${t}-year`,"data-testid":`${t}-year`,className:"govuk-input govuk-date-input__inpaut govuk-input--width-4",type:"text",inputMode:"numeric",value:s,onChange:r=>n(`${i}-${r.target.value}`),maxLength:4})]})})]})]})})};try{g.displayName="DateInput",g.__docgenInfo={description:"",displayName:"DateInput",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: string) => void"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}}}}}catch{}const $="_form_1mguo_1",_={form:$},{timetableEvents:P,...V}=E,h=a=>{const{className:o,...t}=a,[n,i]=p.useState(V),[s,r]=p.useState(P),f=p.useMemo(()=>`data:text/csv;charset=urf-8, ${j({...n,timetableEvents:s})}`,[n,s]);return e.jsxs("div",{className:`${o} ${_.form}`,...t,children:[e.jsx("h1",{className:"govuk-heading-xl","data-testid":"form-title",children:"Timetable Form"}),e.jsx("div",{className:_.formRow,children:e.jsx(v,{label:"Local planning authority",onChange:l=>i(d=>({...d,organisations:[l]})),value:n.organisations[0]})}),s.map(l=>e.jsx("div",{children:e.jsx(g,{value:l.eventDate,label:l.developmentPlanEvent,name:`${l.developmentPlanEvent.split(" ").join("-")}-date`,onChange:d=>r(N=>N.map(m=>m===l?{...m,eventDate:d}:m))})},l.developmentPlanEvent)),e.jsx("a",{role:"button",type:"button","data-testid":"csv-download-button",href:f,download:"timetable.csv",children:e.jsx(c,{children:"Export Timetable CSV"})}),e.jsx("h1",{className:"govuk-heading-xl",children:"Preview"}),e.jsx(k,{plan:{...n,timetableEvents:s}})]})};try{h.displayName="Form",h.__docgenInfo={description:"",displayName:"Form",props:{}}}catch{}const S={title:"Example/Form",component:h,tags:["autodocs"],parameters:{layout:"fullscreen"}},u={};var x,y,b;u.parameters={...u.parameters,docs:{...(x=u.parameters)==null?void 0:x.docs,source:{originalSource:"{}",...(b=(y=u.parameters)==null?void 0:y.docs)==null?void 0:b.source}}};const q=["ExampleForm"];export{u as ExampleForm,q as __namedExportsOrder,S as default};
