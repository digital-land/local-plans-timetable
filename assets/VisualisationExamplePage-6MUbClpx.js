import{r as t,D as i,g as h,l as o,c,j as e,a as x}from"../form.js";const g=m=>{const{timetableEventsFilepath:a,developmentPlanFilepath:s}=m,[n,r]=t.useState(i),[p,d]=t.useState(h(n.reference)),l=t.useCallback(async()=>{const v=await o(a),u=c(v),E=await o(s),b=c(E),D={...i,...b.slice(-1)[0]};r(D),d(u.filter(P=>!P.endDate))},[s,a]);return t.useEffect(()=>{l()},[l]),e.jsx("div",{"data-testid":"visualisation",children:e.jsx(x,{developmentPlan:n,timetableEvents:p})})},j=()=>e.jsx(g,{developmentPlanFilepath:"https://raw.githubusercontent.com/digital-land/local-plans-timetable/main/assets/development-plan.csv",timetableEventsFilepath:"https://raw.githubusercontent.com/digital-land/local-plans-timetable/main/assets/timetable.csv"});export{j as VisualisationExamplePage};
