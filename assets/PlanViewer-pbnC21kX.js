import{v}from"./v4-yQnnJER4.js";import{r as f}from"./index-4g5l5LRQ.js";var x={exports:{}},p={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y=f,P=Symbol.for("react.element"),D=Symbol.for("react.fragment"),E=Object.prototype.hasOwnProperty,k=y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,N={key:!0,ref:!0,__self:!0,__source:!0};function j(n,t,r){var a,s={},o=null,l=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(l=t.ref);for(a in t)E.call(t,a)&&!N.hasOwnProperty(a)&&(s[a]=t[a]);if(n&&n.defaultProps)for(a in t=n.defaultProps,t)s[a]===void 0&&(s[a]=t[a]);return{$$typeof:P,type:n,key:o,ref:l,props:s,_owner:k.current}}p.Fragment=D;p.jsx=j;p.jsxs=j;x.exports=p;var e=x.exports;const S=["Timetable published","Draft plan for public consultation published","Public consultation start","Public consultation end","Submit plan for examination","Examination hearing start","Planning inspectorate examination start","Planning inspectorate examination end","Planning inspectorate found sound","Examination hearing end","Inspector report published","Plan adopted"],i=new Date().toISOString().split("T")[0],w={reference:v(),name:"",description:"",developmentPlanType:"",periodStartDate:i,developmentPlanGeography:"",documentationUrl:"",adoptedDate:i,organisations:"",entryDate:i,startDate:i,timetableEvents:S.map(n=>({reference:v(),name:"",developmentPlan:"",developmentPlanEvent:n,eventDate:"",notes:"",organisation:"",entryDate:i,startDate:i,endDate:""}))},V=n=>{const t=Object.keys(n[0]).join(",");return n.reduce((a,s)=>[...a,Object.values(s).join(",")],[t]).join(`
`)},$=n=>{const[t,r]=n.split(`
`),a=t.split(","),s=r.split(","),o=a.map((c,d)=>[c,s[d]]),l=Object.fromEntries(o);return{...w,...l}},R=n=>{const[t,...r]=n.split(`
`),a=t.split(",");return r.map(o=>{const l=o.split(","),c=a.map((d,m)=>[d,l[m]]);return Object.fromEntries(c)})},C=async n=>await fetch(n).then(t=>t.text()),_=({plan:{name:n,description:t,adoptedDate:r,periodStartDate:a,periodEndDate:s,developmentPlanType:o,developmentPlanGeography:l,organisations:c,entryDate:d,startDate:m,endDate:b,documentationUrl:h,timetableEvents:g}})=>e.jsxs("div",{"data-testid":"plan-preview",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"govuk-heading-xl",children:n}),e.jsx("p",{className:"govuk-body-l",children:t})]}),e.jsxs("div",{className:"govuk-body",children:[e.jsx("p",{children:`Adopted: ${r}`}),e.jsx("p",{children:`Period Start: ${a}`}),e.jsx("p",{children:`Period End: ${s}`}),e.jsx("p",{children:`Plan Type: ${o}`}),e.jsx("p",{children:`Plan Geography: ${l}`}),e.jsx("p",{children:`Organisations: ${c}`}),e.jsx("p",{children:`Entry Date ${d}`}),e.jsx("p",{children:`Start Date: ${m}`}),e.jsx("p",{children:`End Date: ${b}`}),h&&e.jsx("a",{href:h,children:"Documentation"})]}),e.jsx("hr",{}),e.jsxs("table",{className:"govuk-table",children:[e.jsx("caption",{className:"govuk-table__caption govuk-table__caption--m",children:"Development Plan Timetable"}),e.jsx("thead",{className:"govuk-table__head",children:e.jsxs("tr",{className:"govuk-table__row",children:[e.jsx("th",{scope:"col",className:"govuk-table__header",children:"Event"}),e.jsx("th",{scope:"col",className:"govuk-table__header",children:"Date"})]})}),e.jsx("tbody",{className:"govuk-table__body",children:g.map(u=>e.jsxs("tr",{className:"govuk-table__row",children:[e.jsx("th",{scope:"row",className:"govuk-table__header",children:u.developmentPlanEvent}),e.jsx("td",{className:"govuk-table__cell",children:u.eventDate})]},u.reference))})]})]});try{_.displayName="PlanViewer",_.__docgenInfo={description:"",displayName:"PlanViewer",props:{plan:{defaultValue:null,description:"",name:"plan",required:!0,type:{name:"DevelopmentPlan"}}}}}catch{}export{$ as C,w as D,_ as P,R as a,e as j,C as l,V as o};
