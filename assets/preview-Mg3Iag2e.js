import{v as h}from"./v4-yQnnJER4.js";const{addons:u}=__STORYBOOK_MODULE_PREVIEW_API__,{global:y}=__STORYBOOK_MODULE_GLOBAL__,{ImplicitActionsDuringRendering:A}=__STORYBOOK_MODULE_CORE_EVENTS_PREVIEW_ERRORS__;var b="storybook/actions",T=`${b}/action-event`,I={depth:10,clearOnStoryChange:!0,limit:50},f=(t,n)=>{let e=Object.getPrototypeOf(t);return!e||n(e)?e:f(e,n)},w=t=>!!(typeof t=="object"&&t&&f(t,n=>/^Synthetic(?:Base)?Event$/.test(n.constructor.name))&&typeof t.persist=="function"),D=t=>{if(w(t)){let n=Object.create(t.constructor.prototype,Object.getOwnPropertyDescriptors(t));n.persist();let e=Object.getOwnPropertyDescriptor(n,"view"),r=e==null?void 0:e.value;return typeof r=="object"&&(r==null?void 0:r.constructor.name)==="Window"&&Object.defineProperty(n,"view",{...e,value:Object.create(r.constructor.prototype)}),n}return t},S=()=>typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?h():Date.now().toString(36)+Math.random().toString(36).substring(2);function l(t,n={}){let e={...I,...n},r=function(...i){var g,_;if(n.implicit){let d=(g="__STORYBOOK_PREVIEW__"in y?y.__STORYBOOK_PREVIEW__:void 0)==null?void 0:g.storyRenders.find(s=>s.phase==="playing"||s.phase==="rendering");if(d){let s=!((_=window==null?void 0:window.FEATURES)!=null&&_.disallowImplicitActionsInRenderV8),O=new A({phase:d.phase,name:t,deprecated:s});if(s)console.warn(O);else throw O}}let o=u.getChannel(),c=S(),a=5,p=i.map(D),R=i.length>1?p:p[0],m={id:c,count:0,data:{name:t,args:R},options:{...e,maxDepth:a+(e.depth||3),allowFunction:e.allowFunction||!1}};o.emit(T,m)};return r.isAction=!0,r}var E=(t,n)=>typeof n[t]>"u"&&!(t in n),j=t=>{let{initialArgs:n,argTypes:e,id:r,parameters:{actions:i}}=t;if(!i||i.disable||!i.argTypesRegex||!e)return{};let o=new RegExp(i.argTypesRegex);return Object.entries(e).filter(([c])=>!!o.test(c)).reduce((c,[a,p])=>(E(a,n)&&(c[a]=l(a,{implicit:!0,id:r})),c),{})},P=t=>{let{initialArgs:n,argTypes:e,parameters:{actions:r}}=t;return r!=null&&r.disable||!e?{}:Object.entries(e).filter(([i,o])=>!!o.action).reduce((i,[o,c])=>(E(o,n)&&(i[o]=l(typeof c.action=="string"?c.action:o)),i),{})},V=[P,j],F=t=>{let{args:n,parameters:{actions:e}}=t;e!=null&&e.disable||Object.entries(n).filter(([,r])=>typeof r=="function"&&"_isMockFunction"in r&&r._isMockFunction).forEach(([r,i])=>{let o=i.getMockImplementation();if((o==null?void 0:o._actionAttached)!==!0&&(o==null?void 0:o.isAction)!==!0){let c=(...a)=>(l(r)(...a),o==null?void 0:o(...a));c._actionAttached=!0,i.mockImplementation(c)}})},x=[F];export{V as argsEnhancers,x as loaders};
