import{j as e,o as x,P as E,D as V}from"./PlanViewer-93NFeYQO.js";import{r as d}from"./index-4g5l5LRQ.js";import"./v4-yQnnJER4.js";import"./_commonjsHelpers-4gQjN7DL.js";const c=({children:a,type:o="button"})=>e.jsx("button",{type:o,className:"govuk-button",children:a});try{c.displayName="Button",c.__docgenInfo={description:"",displayName:"Button",props:{type:{defaultValue:{value:"button"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"button"'},{value:'"submit"'},{value:'"reset"'}]}}}}}catch{}const v=({label:a,onChange:o,value:t})=>e.jsx("div",{className:"govuk-form-group",children:e.jsxs("label",{className:"govuk-label",children:[a,e.jsx("input",{className:"govuk-input",type:"text",value:t,onChange:n=>o(n.target.value)})]})});try{v.displayName="TextInput",v.__docgenInfo={description:"",displayName:"TextInput",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: string) => void"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}}}}}catch{}const g=({value:a,label:o,name:t,onChange:n})=>{const[i="",r=""]=a.split("-");return e.jsx("div",{className:"govuk-form-group",children:e.jsxs("fieldset",{className:"govuk-fieldset",role:"group","aria-describedby":`${t}-hint`,children:[e.jsx("legend",{className:"govuk-fieldset__legend",children:o}),e.jsx("div",{id:`${t}-hint`,className:"govuk-hint",children:"For example, 3 2007"}),e.jsxs("div",{className:"govuk-date-input",children:[e.jsx("div",{className:"govuk-date-input__item",children:e.jsxs("div",{className:"govuk-form-group",children:[e.jsx("label",{className:"govuk-label govuk-date-input__label",htmlFor:`${t}-month`,children:"Month"}),e.jsx("input",{id:`${t}-month`,"data-testid":`${t}-month`,className:"govuk-input govuk-date-input__input govuk-input--width-2",type:"text",inputMode:"numeric",value:i,onChange:s=>n(`${s.target.value}-${r}`),maxLength:2})]})}),e.jsx("div",{className:"govuk-date-input__item",children:e.jsxs("div",{className:"govuk-form-group",children:[e.jsx("label",{className:"govuk-label govuk-date-input__label",htmlFor:`${t}-year`,children:"Year"}),e.jsx("input",{id:`${t}-year`,"data-testid":`${t}-year`,className:"govuk-input govuk-date-input__inpaut govuk-input--width-4",type:"text",inputMode:"numeric",value:r,onChange:s=>n(`${i}-${s.target.value}`),maxLength:4})]})})]})]})})};try{g.displayName="DateInput",g.__docgenInfo={description:"",displayName:"DateInput",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: string) => void"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}}}}}catch{}const $="_form_1mguo_1",_={form:$},{timetableEvents:C,...P}=V,h=a=>{const{className:o,...t}=a,[n,i]=d.useState(P),[r,s]=d.useState(C),f=d.useMemo(()=>`data:text/csv;charset=urf-8, ${x(r)}`,[r]),N=d.useMemo(()=>`data:text/csv;charset=urf-8, ${x([n])}`,[n]);return e.jsxs("div",{className:`${o} ${_.form}`,...t,children:[e.jsx("h1",{className:"govuk-heading-xl","data-testid":"form-title",children:"Timetable Form"}),e.jsx("div",{className:_.formRow,children:e.jsx(v,{label:"Local planning authority",onChange:l=>i(m=>({...m,organisations:[l]})),value:n.organisations[0]})}),r.map(l=>e.jsx("div",{children:e.jsx(g,{value:l.eventDate,label:l.developmentPlanEvent,name:`${l.developmentPlanEvent.split(" ").join("-")}-date`,onChange:m=>s(k=>k.map(p=>p===l?{...p,eventDate:m}:p))})},l.developmentPlanEvent)),e.jsx("div",{children:e.jsx("a",{role:"button",type:"button","data-testid":"csv-download-button",href:f,download:"timetable.csv",children:e.jsx(c,{children:"Export Timetable CSV"})})}),e.jsx("div",{children:e.jsx("a",{role:"button",type:"button","data-testid":"csv-download-header-button",href:N,download:"timetableHeader.csv",children:e.jsx(c,{children:"Export Timetable Header CSV"})})}),e.jsx("h1",{className:"govuk-heading-xl",children:"Preview"}),e.jsx(E,{plan:{...n,timetableEvents:r}})]})};try{h.displayName="Form",h.__docgenInfo={description:"",displayName:"Form",props:{}}}catch{}const F={title:"Example/Form",component:h,tags:["autodocs"],parameters:{layout:"fullscreen"}},u={};var b,y,j;u.parameters={...u.parameters,docs:{...(b=u.parameters)==null?void 0:b.docs,source:{originalSource:"{}",...(j=(y=u.parameters)==null?void 0:y.docs)==null?void 0:j.source}}};const T=["ExampleForm"];export{u as ExampleForm,T as __namedExportsOrder,F as default};
